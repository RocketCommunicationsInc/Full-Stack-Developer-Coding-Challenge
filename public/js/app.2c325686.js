(function(t){function e(e){for(var n,o,l=e[0],i=e[1],u=e[2],f=0,m=[];f<l.length;f++)o=l[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);c&&c(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3c57":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-tertiary-800 dark-theme",attrs:{id:"app"}},[a("router-view")],1)},s=[],o=a("2877"),l={},i=Object(o["a"])(l,r,s,!1,null,null,null),u=i.exports,c=(a("8609"),a("a766"),a("9569"),a("c6f4"),a("2f62")),f=a("1da1"),m=(a("96cf"),a("d3b7"),a("7338")),p=a.n(m),d=p.a.create({withCredentials:!0,baseURL:"/api"});d.interceptors.response.use((function(t){return t}),(function(t){if(401===t.response.status)zt.push("/login");else{if(419!==t.response.status)return Promise.reject(t);zt.push("/login")}}));var h=d,b={authenticated:!1,user:null},v={authenticated:function(t){return t.authenticated},user:function(t){return t.user}},g={SET_AUTHENTICATED:function(t,e){t.authenticated=e},SET_USER:function(t,e){t.user=e}},x={logIn:function(t,e){return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.dispatch,a.next=3,h.get("/csrf-cookie");case 3:return a.next=5,h.post("/login",e);case 5:return a.abrupt("return",n("fetchUser"));case 6:case"end":return a.stop()}}),a)})))()},logOut:function(t){return Object(f["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,h.post("/logout");case 4:a("SET_AUTHENTICATED",!1),a("SET_USER",null),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),a("SET_AUTHENTICATED",!1),a("SET_USER",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},fetchUser:function(t){return Object(f["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.abrupt("return",h.get("/me").then((function(t){a("SET_AUTHENTICATED",!0),a("SET_USER",t.data)})).catch((function(){a("SET_AUTHENTICATED",!1),a("SET_USER",null)})));case 2:case"end":return e.stop()}}),e)})))()}},w={namespaced:!0,state:b,getters:v,mutations:g,actions:x};n["a"].use(c["a"]);var y=new c["a"].Store({state:{},mutations:{},actions:{},modules:{auth:w}}),_=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-tertiary-800 dark-theme h-screen",attrs:{id:"app"}},[a("rux-global-status-bar",{staticClass:"w-full   ",attrs:{appname:"Hello"}},[a("rux-clock")],1),a("main",{staticClass:"bg-tertiary-800"},[a("div",{staticClass:"flex p-4"},[a("div",{staticClass:"w-1/3 mr-4 panel"},[a("base-panel",{staticClass:"h-full",attrs:{title:"Sat 1"}},[a("pane-alerts",{})],1)],1),a("div",{staticClass:"w-2/3 panel"},[a("base-panel",{staticClass:"h-full",attrs:{title:"Sat 2"}},[a("pane-contacts")],1)],1)])])],1)},E=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overflow-auto"},[a("rux-table",{attrs:{columns:t.columns,data:t.alerts}})],1)},T=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"rux-table"},[a("tr",{staticClass:"relative rux-table__column-head"},t._l(t.columns,(function(e,n){return a("th",{key:n,staticClass:"sticky top-0",class:e.sort?"rux-table__column--sortable":"",on:{click:function(a){a.preventDefault(),e.sort&&t.sortColumn(e)}}},[a("span",{staticClass:"inline-flex items-center"},[t._v(" "+t._s(e.label)+" "),e.sort&&"desc"===t.sort?a("svg",{staticClass:"ml-2 w-4 h-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"}})]):t._e(),e.sort&&"asc"===t.sort?a("svg",{staticClass:"ml-2 w-4 h-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"}})]):t._e()])])})),0),t._l(t.sortedData,(function(e,n){return a("tr",{key:n},t._l(t.columns,(function(n){return a("td",{key:n.name,staticClass:"truncate"},["date"===n.format?[t._v(" "+t._s(t.formatDate(e[n.name]))+" ")]:a("div",{staticClass:"capitalize"},[t._v(" "+t._s(e[n.name])+" ")])],2)})),0)}))],2)},j=[],R=(a("b0c0"),a("b166"));function k(t){return Object(R["a"])(t,"kk:mm:ss")}var B=a("2ef0"),$={name:"RuxTable",props:{columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}}},data:function(){return{sort:null,sortBy:null}},computed:{sortedData:function(){return this.sort?Object(B["orderBy"])(this.data,[this.sortBy],[this.sort]):this.data}},methods:{sortColumn:function(t){this.sort?"asc"===this.sort?(this.sort="desc",this.sortBy=t.name):"desc"===this.sort&&(this.sort=null,this.sortBy=null):(this.sort="asc",this.sortBy=t.name)},formatDate:function(t){return k(t)}}},P=$,A=(a("df67"),Object(o["a"])(P,O,j,!1,null,null,null)),D=A.exports,U={name:"PaneAlerts",components:{RuxTable:D},data:function(){return{loading:!1,columns:[{name:"errorMessage",label:"Message",sort:!1},{name:"errorCategory",label:"Category",sort:!0},{name:"errorTime",label:"Time",format:"date",sort:!1}],alerts:[]}},created:function(){this.fetchAlerts()},methods:{fetchAlerts:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,h.get("/alerts").then((function(e){t.alerts=e.data.data})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()}}},I=U,N=Object(o["a"])(I,S,T,!1,null,"6a266864",null),L=N.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col overflow-hidden"},[a("div",{staticClass:"bg-gray-600 pb-8"},[a("ul",{staticClass:"flex items-center justify-between w-1/3 m-auto"},[a("li",{staticClass:"mr-4"},[a("base-badge",{attrs:{label:"Contacts",value:t.totalContacts}})],1),t._l(t.contactsGroupedByState,(function(t,e){return a("li",{key:e,staticClass:"mr-4"},[a("base-badge",{attrs:{label:e,value:t.length}})],1)}))],2)]),a("div",{staticClass:"overflow-auto"},[a("rux-table",{attrs:{columns:t.columns,data:t.contacts}})],1)])},M=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex items-center flex-col leading-tight"},[a("div",{staticClass:"text-6xl font-bold"},[t._v(" "+t._s(t.value)+" ")]),a("div",{staticClass:"capitalize"},[t._v(" "+t._s(t.label)+" ")])])},F=[],V=(a("a9e3"),{name:"BaseBadge",props:{label:{type:String,default:""},value:{type:Number,default:0}}}),q=V,G=Object(o["a"])(q,H,F,!1,null,"b2766db4",null),J=G.exports,K={name:"PaneContacts",components:{BaseBadge:J,RuxTable:D},data:function(){return{loading:!1,contacts:[],columns:[{name:"contactName",label:"Name",sort:!0},{name:"contactStatus",label:" Status"},{name:"contactBeginTimestamp",label:"Begin",format:"date"},{name:"contactEndTimestamp",label:" End",format:"date"}]}},computed:{totalContacts:function(){return this.contacts.length},contactsGroupedByState:function(){return Object(B["groupBy"])(this.contacts,(function(t){return t.contactState}))}},created:function(){this.fetchContacts()},methods:{fetchContacts:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,h.get("/contacts").then((function(e){t.contacts=e.data.data})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()}}},Q=K,W=Object(o["a"])(Q,z,M,!1,null,"4cbb5879",null),X=W.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"bg-tertiary-600 p-4"},[a("div",{staticClass:"text-2xl"},[t._v(" "+t._s(t.title)+" ")])]),a("div",{staticClass:"bg-tertiary-500 p4 flex flex-col overflow-hidden"},[t._t("default")],2)])},Z=[],tt={name:"BasePanel",props:{title:{type:String,default:"Sat 1"}}},et=tt,at=Object(o["a"])(et,Y,Z,!1,null,"75905614",null),nt=at.exports,rt={name:"ViewDashboard",components:{BasePanel:nt,PaneContacts:X,PaneAlerts:L}},st=rt,ot=(a("bd7c"),Object(o["a"])(st,C,E,!1,null,"03bd8084",null)),lt=ot.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},[a("div",{staticClass:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},[a("base-panel",{attrs:{title:"Register"}},[a("div",{staticClass:"py-8 px-4 shadow sm:rounded-lg sm:px-10"},[a("form",{staticClass:"space-y-6",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[a("rux-input",{attrs:{id:"name",label:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),a("rux-input",{attrs:{id:"email",label:"Email",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("rux-input",{attrs:{id:"password",label:"Password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),a("rux-input",{attrs:{id:"password_confirmation",label:"Confirm Password",type:"password"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}}),a("div",{staticClass:"flex items-center"},[a("rux-button",{staticClass:"ml-auto mr-4 ",attrs:{size:"large",outline:!0,type:"default"},nativeOn:{click:function(e){return t.goToLogin(e)}}},[t._v(" Cancel ")]),a("rux-button",{attrs:{size:"large",type:"submit"}},[t._v(" Submit ")])],1)],1)])])],1)])},ut=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"rux-form-field"},[a("label",{attrs:{for:t.id}},[t._v(t._s(t.label))]),a("input",{staticClass:"rux-input",attrs:{id:t.id,type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})]),t.validationError?a("div",{staticClass:"mt-2 ml-4 text-white text-left"},[t._v(" "+t._s(t.validationError)+" ")]):t._e()])},ft=[],mt={name:"RuxInput",props:{id:{type:String,default:""},label:{type:String,default:""},validationError:{type:String,default:""},value:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""}}},pt=mt,dt=Object(o["a"])(pt,ct,ft,!1,null,"1233e2f0",null),ht=dt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"rux-button",class:t.outline?"rux-button--outline":"",attrs:{type:t.type,outline:""}},[t._t("default")],2)},vt=[],gt={name:"RuxButton",props:{outline:{type:Boolean,default:!1},type:{type:String,default:"submit"}}},xt=gt,wt=Object(o["a"])(xt,bt,vt,!1,null,"658e8be3",null),yt=wt.exports,_t={name:"ViewRegister",components:{RuxButton:yt,RuxInput:ht,BasePanel:nt},data:function(){return{loading:!1,form:{name:"",email:"",password:"",password_confirmation:""}}},methods:{goToLogin:function(){this.$router.push("/login")},submitForm:function(){var t=this;this.loading=!0,h.post("/register",this.form).then((function(t){console.log(t)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1})),console.log("heard submit")}}},Ct=_t,Et=Object(o["a"])(Ct,it,ut,!1,null,"0fb18556",null),St=Et.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},[a("div",{staticClass:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},[a("base-panel",{attrs:{title:"Login"}},[a("div",{staticClass:"py-8 px-4 shadow sm:rounded-lg sm:px-10"},[a("form",{staticClass:"space-y-6",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[a("rux-input",{attrs:{id:"email",label:"Email",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("rux-input",{attrs:{id:"password",label:"Password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),a("div",{staticClass:"flex items-center"},[a("rux-button",{staticClass:"ml-auto mr-4 ",attrs:{size:"large",outline:!0,type:"default"},nativeOn:{click:function(e){return t.goToRegister(e)}}},[t._v(" Register ")]),a("rux-button",{attrs:{size:"large",type:"submit"}},[t._v(" Login ")])],1)],1)])])],1)])},Ot=[],jt=(a("5319"),a("ac1f"),{name:"ViewLogin",components:{RuxButton:yt,RuxInput:ht,BasePanel:nt},data:function(){return{form:{email:"",password:""}}},methods:{goToRegister:function(){this.$router.push("/register")},submitForm:function(){this.logIn(this.form),console.log("heard submit")},logIn:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("auth/logIn",t.form);case 2:t.$router.replace({name:"Dashboard"});case 3:case"end":return e.stop()}}),e)})))()}}}),Rt=jt,kt=Object(o["a"])(Rt,Tt,Ot,!1,null,"01b45967",null),Bt=kt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Ooops ")])},Pt=[],At={name:"ViewNotFound"},Dt=At,Ut=Object(o["a"])(Dt,$t,Pt,!1,null,"e0ea0498",null),It=Ut.exports;n["a"].use(_["a"]);var Nt=[{path:"*",component:It},{path:"/",name:"Dashboard",component:lt,meta:{requiresAuth:!0}},{path:"/register",name:"Register",component:St},{path:"/login",name:"Login",component:Bt}],Lt=new _["a"]({mode:"history",base:"/",routes:Nt});Lt.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var n=y.getters["auth/authenticated"];n?a():a({path:"/login"})}else a()}));var zt=Lt;n["a"].config.productionTip=!1,y.dispatch("auth/fetchUser").then((function(){new n["a"]({router:zt,store:y,render:function(t){return t(u)}}).$mount("#app")}))},8609:function(t,e,a){},a766:function(t,e,a){},bd7c:function(t,e,a){"use strict";a("ca3d")},ca3d:function(t,e,a){},df67:function(t,e,a){"use strict";a("3c57")}});
//# sourceMappingURL=app.2c325686.js.map