{"ast":null,"code":"var _jsxFileName = \"/home/mimirandi21/code/projects/Full-Stack-Developer-Coding-Challenge-1/rocketfront/src/redux/actions/UsersActions.js\";\nimport { LOGOUT } from \"../actionTypes\";\nimport { AUTH_SUCCESS } from \"../actionTypes\";\nimport { RuxModal } from \"@astrouxds/rux-modal/rux-modal.js\";\nimport * as Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const signup = userData => {\n  return dispatch => {\n    fetch(\"http://localhost:3001/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        user: userData\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data.error);\n\n      if (data.error && data.error !== \"\") {\n        data.error.map(e => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rux-modal-container\",\n            children: /*#__PURE__*/_jsxDEV(\"rux-modal\", {\n              title: \"error\",\n              message: e,\n              confirmText: \"Ok\",\n              denyText: \"Cancel\",\n              customEvent: \"listen-for-me\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rux-modal__titlebar\",\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"Error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 31,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rux-modal__content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rux-modal__message\",\n                  children: e\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 34,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rux-button-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"rux-button\", {\n                    \"data-value\": \"false\",\n                    tabindex: \"-1\",\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 36,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"rux-button\", {\n                    \"data-value\": \"true\",\n                    tabindex: \"0\",\n                    children: \"OK\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 39,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 35,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 8\n          }, this);\n        });\n      } else {\n        dispatch({\n          type: AUTH_SUCCESS,\n          payload: {\n            loggedIn: true,\n            currentUser: data.user\n          }\n        });\n      }\n    });\n  };\n};\nexport const login = userData => {\n  return dispatch => {\n    fetch(\"http://localhost:3001/user\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify(userData)\n    }).then(resp => resp.json()).then(data => {\n      console.log(data);\n\n      if (data.error && data.error !== \"\") {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"rux-modal\", {\n            title: \"error\",\n            message: data.error,\n            confirmText: \"Ok\",\n            denyText: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this);\n      } else {\n        dispatch({\n          type: AUTH_SUCCESS,\n          payload: {\n            loggedIn: true,\n            currentUser: data.user\n          }\n        });\n      }\n    });\n  };\n};\nexport const checkLoggedIn = () => {\n  return dispatch => {\n    fetch(`http://localhost:3001/logged_in`, {\n      credentials: \"include\"\n    }).then(res => res.json()).then(data => {\n      if (data.error && data.error !== \"\") {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"rux-modal\", {\n            title: \"error\",\n            message: data.error,\n            confirmText: \"Ok\",\n            denyText: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }, this);\n      } else {\n        dispatch({\n          type: AUTH_SUCCESS,\n          payload: {\n            loggedIn: data.logged_in,\n            currentUser: data.user\n          }\n        });\n      }\n    });\n  };\n};\nexport const logout = () => {\n  return dispatch => {\n    dispatch({\n      type: LOGOUT,\n      payload: {\n        loggedIn: false,\n        currentUser: {}\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/mimirandi21/code/projects/Full-Stack-Developer-Coding-Challenge-1/rocketfront/src/redux/actions/UsersActions.js"],"names":["LOGOUT","AUTH_SUCCESS","RuxModal","Cookies","signup","userData","dispatch","fetch","method","headers","credentials","body","JSON","stringify","user","then","res","json","data","console","log","error","map","e","type","payload","loggedIn","currentUser","login","resp","checkLoggedIn","logged_in","logout"],"mappings":"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","sourcesContent":["import { LOGOUT } from \"../actionTypes\";\nimport { AUTH_SUCCESS } from \"../actionTypes\";\nimport { RuxModal } from \"@astrouxds/rux-modal/rux-modal.js\";\nimport * as Cookies from \"js-cookie\";\n\nexport const signup = (userData) => {\n\treturn (dispatch) => {\n\t\tfetch(\"http://localhost:3001/users\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({ user: userData }),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data.error);\n\t\t\t\tif (data.error && data.error !== \"\") {\n\t\t\t\t\tdata.error.map((e) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"rux-modal-container\">\n\t\t\t\t\t\t\t\t<rux-modal\n\t\t\t\t\t\t\t\t\ttitle=\"error\"\n\t\t\t\t\t\t\t\t\tmessage={e}\n\t\t\t\t\t\t\t\t\tconfirmText=\"Ok\"\n\t\t\t\t\t\t\t\t\tdenyText=\"Cancel\"\n\t\t\t\t\t\t\t\t\tcustomEvent=\"listen-for-me\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"rux-modal__titlebar\">\n\t\t\t\t\t\t\t\t\t\t<h1>Error</h1>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"rux-modal__content\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"rux-modal__message\">{e}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"rux-button-group\">\n\t\t\t\t\t\t\t\t\t\t\t<rux-button data-value=\"false\" tabindex=\"-1\">\n\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t</rux-button>\n\t\t\t\t\t\t\t\t\t\t\t<rux-button data-value=\"true\" tabindex=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\tOK\n\t\t\t\t\t\t\t\t\t\t\t</rux-button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</rux-modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\nexport const login = (userData) => {\n\treturn (dispatch) => {\n\t\tfetch(\"http://localhost:3001/user\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify(userData),\n\t\t})\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.error && data.error !== \"\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<rux-modal\n\t\t\t\t\t\t\t\ttitle=\"error\"\n\t\t\t\t\t\t\t\tmessage={data.error}\n\t\t\t\t\t\t\t\tconfirmText=\"Ok\"\n\t\t\t\t\t\t\t\tdenyText=\"Cancel\"\n\t\t\t\t\t\t\t></rux-modal>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\nexport const checkLoggedIn = () => {\n\treturn (dispatch) => {\n\t\tfetch(`http://localhost:3001/logged_in`, {\n\t\t\tcredentials: \"include\",\n\t\t})\n\t\t\t.then((res) => res.json())\n\n\t\t\t.then((data) => {\n\t\t\t\tif (data.error && data.error !== \"\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<rux-modal\n\t\t\t\t\t\t\t\ttitle=\"error\"\n\t\t\t\t\t\t\t\tmessage={data.error}\n\t\t\t\t\t\t\t\tconfirmText=\"Ok\"\n\t\t\t\t\t\t\t\tdenyText=\"Cancel\"\n\t\t\t\t\t\t\t></rux-modal>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tloggedIn: data.logged_in,\n\t\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\nexport const logout = () => {\n\treturn (dispatch) => {\n\t\tdispatch({\n\t\t\ttype: LOGOUT,\n\t\t\tpayload: {\n\t\t\t\tloggedIn: false,\n\t\t\t\tcurrentUser: {},\n\t\t\t},\n\t\t});\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}