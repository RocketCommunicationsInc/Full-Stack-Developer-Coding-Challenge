{"ast":null,"code":"import { LOGOUT } from \"../actionTypes\";\nimport { AUTH_SUCCESS } from \"../actionTypes\";\nexport const signup = userData => {\n  return dispatch => {\n    fetch(\"http://localhost:3001/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        user: userData\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      dispatch({\n        type: AUTH_SUCCESS,\n        payload: {\n          loggedIn: true,\n          currentUser: data.user\n        }\n      });\n    });\n  };\n};\nexport const login = userData => {\n  return dispatch => {\n    fetch(\"http://localhost:3001/sessions\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify(userData)\n    }).then(resp => resp.json()).then(data => {\n      if (data.errors) {\n        alert(data.errors);\n      } else {\n        dispatch({\n          type: AUTH_SUCCESS,\n          payload: {\n            loggedIn: true,\n            currentUser: data.user\n          }\n        });\n      }\n    });\n  };\n};\nexport const checkLoggedIn = () => {\n  return dispatch => {\n    fetch(`http://localhost:3001/logged_in`, {\n      credentials: \"include\"\n    }).then(res => res.json()).then(data => dispatch({\n      type: \"AUTH_SUCCESS\",\n      payload: {\n        loggedIn: data.logged_in,\n        currentUser: data.user\n      }\n    }));\n  };\n};\nexport const logout = () => {\n  return dispatch => {\n    dispatch({\n      type: LOGOUT\n    });\n  };\n};","map":{"version":3,"sources":["/home/mimirandi21/code/projects/Full-Stack-Developer-Coding-Challenge-1/rocketfront/src/redux/actions/UsersActions.js"],"names":["LOGOUT","AUTH_SUCCESS","signup","userData","dispatch","fetch","method","headers","credentials","body","JSON","stringify","user","then","res","json","data","console","log","type","payload","loggedIn","currentUser","login","resp","errors","alert","checkLoggedIn","logged_in","logout"],"mappings":"AAAA,SAASA,MAAT,QAAuB,gBAAvB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,OAAO,MAAMC,MAAM,GAAIC,QAAD,IAAc;AACnC,SAAQC,QAAD,IAAc;AACpBC,IAAAA,KAAK,CAAC,6BAAD,EAAgC;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAF2B;AAKpCC,MAAAA,WAAW,EAAE,SALuB;AAMpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,IAAI,EAAET;AAAR,OAAf;AAN8B,KAAhC,CAAL,CAQEU,IARF,CAQQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARhB,EASEF,IATF,CASQG,IAAD,IAAU;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAZ,MAAAA,QAAQ,CAAC;AACRe,QAAAA,IAAI,EAAElB,YADE;AAERmB,QAAAA,OAAO,EAAE;AACRC,UAAAA,QAAQ,EAAE,IADF;AAERC,UAAAA,WAAW,EAAEN,IAAI,CAACJ;AAFV;AAFD,OAAD,CAAR;AAOA,KAlBF;AAmBA,GApBD;AAqBA,CAtBM;AAwBP,OAAO,MAAMW,KAAK,GAAIpB,QAAD,IAAc;AAClC,SAAQC,QAAD,IAAc;AACpBC,IAAAA,KAAK,CAAC,gCAAD,EAAmC;AACvCC,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAF8B;AAKvCC,MAAAA,WAAW,EAAE,SAL0B;AAMvCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,QAAf;AANiC,KAAnC,CAAL,CAQEU,IARF,CAQQW,IAAD,IAAUA,IAAI,CAACT,IAAL,EARjB,EASEF,IATF,CASQG,IAAD,IAAU;AACf,UAAIA,IAAI,CAACS,MAAT,EAAiB;AAChBC,QAAAA,KAAK,CAACV,IAAI,CAACS,MAAN,CAAL;AACA,OAFD,MAEO;AACNrB,QAAAA,QAAQ,CAAC;AACRe,UAAAA,IAAI,EAAElB,YADE;AAERmB,UAAAA,OAAO,EAAE;AACRC,YAAAA,QAAQ,EAAE,IADF;AAERC,YAAAA,WAAW,EAAEN,IAAI,CAACJ;AAFV;AAFD,SAAD,CAAR;AAOA;AACD,KArBF;AAsBA,GAvBD;AAwBA,CAzBM;AA2BP,OAAO,MAAMe,aAAa,GAAG,MAAM;AAClC,SAAQvB,QAAD,IAAc;AACpBC,IAAAA,KAAK,CAAE,iCAAF,EAAoC;AACxCG,MAAAA,WAAW,EAAE;AAD2B,KAApC,CAAL,CAGEK,IAHF,CAGQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAHhB,EAIEF,IAJF,CAIQG,IAAD,IACLZ,QAAQ,CAAC;AACRe,MAAAA,IAAI,EAAE,cADE;AAERC,MAAAA,OAAO,EAAE;AACRC,QAAAA,QAAQ,EAAEL,IAAI,CAACY,SADP;AAERN,QAAAA,WAAW,EAAEN,IAAI,CAACJ;AAFV;AAFD,KAAD,CALV;AAaA,GAdD;AAeA,CAhBM;AAkBP,OAAO,MAAMiB,MAAM,GAAG,MAAM;AAC3B,SAAQzB,QAAD,IAAc;AACpBA,IAAAA,QAAQ,CAAC;AAAEe,MAAAA,IAAI,EAAEnB;AAAR,KAAD,CAAR;AACA,GAFD;AAGA,CAJM","sourcesContent":["import { LOGOUT } from \"../actionTypes\";\nimport { AUTH_SUCCESS } from \"../actionTypes\";\n\nexport const signup = (userData) => {\n\treturn (dispatch) => {\n\t\tfetch(\"http://localhost:3001/users\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify({ user: userData }),\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const login = (userData) => {\n\treturn (dispatch) => {\n\t\tfetch(\"http://localhost:3001/sessions\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify(userData),\n\t\t})\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.errors) {\n\t\t\t\t\talert(data.errors);\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\nexport const checkLoggedIn = () => {\n\treturn (dispatch) => {\n\t\tfetch(`http://localhost:3001/logged_in`, {\n\t\t\tcredentials: \"include\",\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"AUTH_SUCCESS\",\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tloggedIn: data.logged_in,\n\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\t};\n};\n\nexport const logout = () => {\n\treturn (dispatch) => {\n\t\tdispatch({ type: LOGOUT });\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}