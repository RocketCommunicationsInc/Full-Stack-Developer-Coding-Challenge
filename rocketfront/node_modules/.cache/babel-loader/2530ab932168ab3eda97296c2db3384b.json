{"ast":null,"code":"import { LitElement, html, css } from 'lit-element';\nimport ruxData from '../rux-utils/data.js';\nexport class RuxPopUpMenu extends LitElement {\n  static get properties() {\n    return {\n      data: {\n        type: Array\n      },\n      selected: {\n        type: Object\n      },\n      expanded: {\n        type: Boolean,\n        reflect: true\n      },\n      _trigger: {\n        type: Object\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.data = [];\n    this.selected = {};\n    this.expanded = false;\n    this.left = 0;\n    this.top = 0;\n    this._handleClick = this.handleClick.bind(this);\n    this._handleOutsideClick = this.handleOutsideClick.bind(this);\n    this._handleMenuItemClick = this.handleMenuItemClick.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._trigger = this.parentElement.querySelector(`[aria-controls=\"${this.id}\"]`);\n\n    this._trigger.addEventListener('mousedown', this._handleClick);\n  }\n\n  disconnectedCallback() {\n    this._trigger.removeEventListener('mousedown', this._handleClick);\n\n    super.disconnectedCallback();\n  }\n\n  findInObject(arr, key) {\n    arr.forEach(a => {\n      if (a.key === key) {\n        a.selected = true;\n        this.found = a;\n      } else {\n        delete a.selected;\n\n        if (a.children) {\n          this.findInObject(a.children, key);\n        }\n      }\n    });\n    return this.found;\n  }\n  /*\n   **\n   */\n\n\n  handleClick() {\n    this.show();\n  }\n  /*\n   **\n   */\n\n\n  handleOutsideClick(e) {\n    const target = e.composedPath().find(element => element.id && element.id === this._trigger.getAttribute('aria-controls'));\n    target ? this._trigger.addEventListener('mousedown', this._click) : this.hide();\n  }\n  /*\n   **\n   */\n\n\n  handleMenuItemClick(e) {\n    this.selected = this.data.find(item => {\n      return item.id === e.currentTarget.dataset.key;\n    });\n    this.dispatchEvent(new CustomEvent('pop-up-menu-item-selected', {\n      detail: {\n        selected: this.selected\n      },\n      bubbles: true,\n      composed: true\n    }));\n    this.hide();\n  }\n  /*\n   **\n   */\n\n\n  show() {\n    this._setMenuPosition();\n\n    this.expanded = true;\n    const debounce = setTimeout(() => {\n      window.addEventListener('resize', () => {\n        this._setMenuPosition();\n      });\n      window.addEventListener('mousedown', this._handleOutsideClick);\n      clearTimeout(debounce);\n    }, 10);\n\n    this._trigger.removeEventListener('mousedown', this._handleClick);\n\n    this._menuItems = this.shadowRoot.querySelectorAll('[role=\"menuitem\"]');\n\n    this._menuItems.forEach(item => {\n      item.addEventListener('mouseup', this._handleMenuItemClick);\n    });\n  }\n  /*\n   **\n   */\n\n\n  hide() {\n    this.expanded = false;\n    window.removeEventListener('mousedown', this._handleOutsideClick);\n    window.removeEventListener('resize', this);\n\n    this._menuItems.forEach(item => {\n      item.removeEventListener('mouseup', this._handleMenuItemClick);\n    });\n\n    this._trigger.addEventListener('mousedown', this._handleClick);\n  }\n  /*\n   **\n   */\n\n\n  _setMenuPosition() {\n    const menuBounds = this.getBoundingClientRect();\n\n    const triggerBounds = this._trigger.getBoundingClientRect();\n\n    const caret = parseInt(getComputedStyle(this, ':after').height);\n    const padding = 16;\n    this.left = menuBounds.width + triggerBounds.left - padding > window.innerWidth ? triggerBounds.right - menuBounds.width : triggerBounds.left - padding;\n    this.top = triggerBounds.bottom + padding / 2 + caret / 2;\n\n    if (menuBounds.height + triggerBounds.bottom + padding > window.innerHeight) {\n      this.top = triggerBounds.top - menuBounds.height - caret;\n      this.classList.add('from-top');\n    } else {\n      this.classList.remove('from-top');\n    }\n\n    this.style.left = `${this.left}px`;\n    this.style.top = `${this.top}px`;\n    const caretLeft = triggerBounds.left - this.left;\n    this.style.setProperty('--caretLeft', `${caretLeft}px`);\n  }\n\n  render() {\n    return html`\n      <ul role=\"menu\" aria-expanded=\"${this.expanded.toString()}\">\n        ${this.data.map(item => {\n      const key = item.id || ruxData.id();\n      return item.role === 'seperator' ? html`\n                <li role=\"seperator\"></li>\n              ` : html`\n                <li data-key=\"${key}\" role=\"menuitem\" tabindex=\"-1\">\n                  ${item.label}\n                </li>\n              `;\n    })}\n      </ul>\n    `;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        --caretLeft: 2px;\n        --caretSize: 1.875rem;\n        --transitionSpeed: 0.1667s;\n\n        opacity: 0;\n        font-size: 1rem;\n\n        margin: 0;\n        padding: 0;\n\n        position: absolute;\n        pointer-events: none;\n\n        color: var(--colorBlack, rgb(0, 0, 0));\n\n        background-color: var(--popupMenuBorderColor);\n        border: 1px solid var(--popupMenuBorderColor);\n        border-top-width: 4px;\n        z-index: 10000;\n\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n\n        border-radius: 3px;\n\n        top: -9999rem;\n        left: -9999rem;\n\n        transition: opacity 0.1667s ease-out;\n        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));\n      }\n\n      :host([expanded]) {\n        pointer-events: auto;\n        opacity: 1;\n        transition: opacity 0.0667s ease-in;\n      }\n\n      :host::after {\n        content: '';\n        display: block;\n        position: absolute;\n        z-index: 1;\n\n        border: 8px solid transparent;\n        border-bottom: 11px solid var(--popupCaretBackgroundColor);\n\n        left: var(--caretLeft, 2px);\n        top: -1.4375rem;\n      }\n\n      ul {\n        position: relative;\n        list-style: none;\n        padding: 0;\n        margin: 0;\n\n        background-color: var(--popupMenuBackgroundColor);\n\n        z-index: 2;\n        border-radius: 2px;\n      }\n\n      li:last-of-type {\n        border: none;\n        border-radius: 0 0 2px 2px;\n      }\n\n      li:first-of-type {\n        border: none;\n        border-radius: 2px 2px 0 0;\n      }\n\n      li:not([role='seperator']) {\n        display: block;\n        padding: 0.15rem 0.75rem;\n        color: var(--popupMenuTextColor);\n        text-decoration: none;\n\n        min-width: 15em;\n        max-width: 20em;\n\n        word-wrap: none;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n\n      li:not([role='seperator']):hover {\n        background-color: var(--popupMenuItemHoverBackgroundColor);\n\t\t\t\tcolor: var(--popupMenuItemHoverTextColor);\n      }\n\n      :host(.from-top) {\n        border-top-width: 1px;\n        border-bottom-width: 4px;\n      }\n\n      :host(.from-top)::after {\n        top: unset;\n        bottom: -23px;\n        transform: rotate(180deg);\n      }\n\n      [role='seperator'] {\n        pointer-events: none;\n        height: 6px;\n        border-top: 1px dashed var(--popupMenuItemSeperatorBorderColor) !important;\n        margin: 6px 0.5rem 0 0.5rem;\n      }\n    `;\n  }\n\n}\ncustomElements.define('rux-pop-up-menu', RuxPopUpMenu);","map":{"version":3,"sources":["/home/mimirandi21/code/projects/Full-Stack-Developer-Coding-Challenge-1/rocketfront/node_modules/@astrouxds/rux-pop-up-menu/rux-pop-up-menu.js"],"names":["LitElement","html","css","ruxData","RuxPopUpMenu","properties","data","type","Array","selected","Object","expanded","Boolean","reflect","_trigger","constructor","left","top","_handleClick","handleClick","bind","_handleOutsideClick","handleOutsideClick","_handleMenuItemClick","handleMenuItemClick","connectedCallback","parentElement","querySelector","id","addEventListener","disconnectedCallback","removeEventListener","findInObject","arr","key","forEach","a","found","children","show","e","target","composedPath","find","element","getAttribute","_click","hide","item","currentTarget","dataset","dispatchEvent","CustomEvent","detail","bubbles","composed","_setMenuPosition","debounce","setTimeout","window","clearTimeout","_menuItems","shadowRoot","querySelectorAll","menuBounds","getBoundingClientRect","triggerBounds","caret","parseInt","getComputedStyle","height","padding","width","innerWidth","right","bottom","innerHeight","classList","add","remove","style","caretLeft","setProperty","render","toString","map","role","label","styles","customElements","define"],"mappings":"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","sourcesContent":["import { LitElement, html, css } from 'lit-element';\nimport ruxData from '../rux-utils/data.js';\n\nexport class RuxPopUpMenu extends LitElement {\n  static get properties() {\n    return {\n      data: {\n        type: Array,\n      },\n      selected: {\n        type: Object,\n      },\n      expanded: {\n        type: Boolean,\n        reflect: true,\n      },\n      _trigger: {\n        type: Object,\n      },\n    };\n  }\n\n  constructor() {\n    super();\n\n    this.data = [];\n    this.selected = {};\n    this.expanded = false;\n\n    this.left = 0;\n    this.top = 0;\n\n    this._handleClick = this.handleClick.bind(this);\n    this._handleOutsideClick = this.handleOutsideClick.bind(this);\n    this._handleMenuItemClick = this.handleMenuItemClick.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._trigger = this.parentElement.querySelector(`[aria-controls=\"${this.id}\"]`);\n\n    this._trigger.addEventListener('mousedown', this._handleClick);\n  }\n\n  disconnectedCallback() {\n    this._trigger.removeEventListener('mousedown', this._handleClick);\n    super.disconnectedCallback();\n  }\n\n  findInObject(arr, key) {\n    arr.forEach((a) => {\n      if (a.key === key) {\n        a.selected = true;\n        this.found = a;\n      } else {\n        delete a.selected;\n        if (a.children) {\n          this.findInObject(a.children, key);\n        }\n      }\n    });\n\n    return this.found;\n  }\n\n  /*\n   **\n   */\n  handleClick() {\n    this.show();\n  }\n\n  /*\n   **\n   */\n  handleOutsideClick(e) {\n    const target = e\n        .composedPath()\n        .find((element) => element.id && element.id === this._trigger.getAttribute('aria-controls'));\n    target ? this._trigger.addEventListener('mousedown', this._click) : this.hide();\n  }\n\n  /*\n   **\n   */\n  handleMenuItemClick(e) {\n    this.selected = this.data.find((item) => {\n      return item.id === e.currentTarget.dataset.key;\n    });\n\n    this.dispatchEvent(\n        new CustomEvent('pop-up-menu-item-selected', {\n          detail: {\n            selected: this.selected,\n          },\n          bubbles: true,\n          composed: true,\n        })\n    );\n    this.hide();\n  }\n\n  /*\n   **\n   */\n  show() {\n    this._setMenuPosition();\n\n    this.expanded = true;\n\n    const debounce = setTimeout(() => {\n      window.addEventListener('resize', () => {\n        this._setMenuPosition();\n      });\n      window.addEventListener('mousedown', this._handleOutsideClick);\n      clearTimeout(debounce);\n    }, 10);\n\n    this._trigger.removeEventListener('mousedown', this._handleClick);\n\n    this._menuItems = this.shadowRoot.querySelectorAll('[role=\"menuitem\"]');\n    this._menuItems.forEach((item) => {\n      item.addEventListener('mouseup', this._handleMenuItemClick);\n    });\n  }\n\n  /*\n   **\n   */\n  hide() {\n    this.expanded = false;\n\n    window.removeEventListener('mousedown', this._handleOutsideClick);\n    window.removeEventListener('resize', this);\n\n    this._menuItems.forEach((item) => {\n      item.removeEventListener('mouseup', this._handleMenuItemClick);\n    });\n\n    this._trigger.addEventListener('mousedown', this._handleClick);\n  }\n\n  /*\n   **\n   */\n  _setMenuPosition() {\n    const menuBounds = this.getBoundingClientRect();\n    const triggerBounds = this._trigger.getBoundingClientRect();\n    const caret = parseInt(getComputedStyle(this, ':after').height);\n\n    const padding = 16;\n\n    this.left =\n      menuBounds.width + triggerBounds.left - padding > window.innerWidth\n        ? triggerBounds.right - menuBounds.width\n        : triggerBounds.left - padding;\n\n    this.top = triggerBounds.bottom + padding / 2 + caret / 2;\n\n    if (menuBounds.height + triggerBounds.bottom + padding > window.innerHeight) {\n      this.top = triggerBounds.top - menuBounds.height - caret;\n      this.classList.add('from-top');\n    } else {\n      this.classList.remove('from-top');\n    }\n\n    this.style.left = `${this.left}px`;\n    this.style.top = `${this.top}px`;\n\n    const caretLeft = triggerBounds.left - this.left;\n    this.style.setProperty('--caretLeft', `${caretLeft}px`);\n  }\n\n  render() {\n    return html`\n      <ul role=\"menu\" aria-expanded=\"${this.expanded.toString()}\">\n        ${this.data.map((item) => {\n    const key = item.id || ruxData.id();\n    return item.role === 'seperator'\n            ? html`\n                <li role=\"seperator\"></li>\n              `\n            : html`\n                <li data-key=\"${key}\" role=\"menuitem\" tabindex=\"-1\">\n                  ${item.label}\n                </li>\n              `;\n  })}\n      </ul>\n    `;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        --caretLeft: 2px;\n        --caretSize: 1.875rem;\n        --transitionSpeed: 0.1667s;\n\n        opacity: 0;\n        font-size: 1rem;\n\n        margin: 0;\n        padding: 0;\n\n        position: absolute;\n        pointer-events: none;\n\n        color: var(--colorBlack, rgb(0, 0, 0));\n\n        background-color: var(--popupMenuBorderColor);\n        border: 1px solid var(--popupMenuBorderColor);\n        border-top-width: 4px;\n        z-index: 10000;\n\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n\n        border-radius: 3px;\n\n        top: -9999rem;\n        left: -9999rem;\n\n        transition: opacity 0.1667s ease-out;\n        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));\n      }\n\n      :host([expanded]) {\n        pointer-events: auto;\n        opacity: 1;\n        transition: opacity 0.0667s ease-in;\n      }\n\n      :host::after {\n        content: '';\n        display: block;\n        position: absolute;\n        z-index: 1;\n\n        border: 8px solid transparent;\n        border-bottom: 11px solid var(--popupCaretBackgroundColor);\n\n        left: var(--caretLeft, 2px);\n        top: -1.4375rem;\n      }\n\n      ul {\n        position: relative;\n        list-style: none;\n        padding: 0;\n        margin: 0;\n\n        background-color: var(--popupMenuBackgroundColor);\n\n        z-index: 2;\n        border-radius: 2px;\n      }\n\n      li:last-of-type {\n        border: none;\n        border-radius: 0 0 2px 2px;\n      }\n\n      li:first-of-type {\n        border: none;\n        border-radius: 2px 2px 0 0;\n      }\n\n      li:not([role='seperator']) {\n        display: block;\n        padding: 0.15rem 0.75rem;\n        color: var(--popupMenuTextColor);\n        text-decoration: none;\n\n        min-width: 15em;\n        max-width: 20em;\n\n        word-wrap: none;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n\n      li:not([role='seperator']):hover {\n        background-color: var(--popupMenuItemHoverBackgroundColor);\n\t\t\t\tcolor: var(--popupMenuItemHoverTextColor);\n      }\n\n      :host(.from-top) {\n        border-top-width: 1px;\n        border-bottom-width: 4px;\n      }\n\n      :host(.from-top)::after {\n        top: unset;\n        bottom: -23px;\n        transform: rotate(180deg);\n      }\n\n      [role='seperator'] {\n        pointer-events: none;\n        height: 6px;\n        border-top: 1px dashed var(--popupMenuItemSeperatorBorderColor) !important;\n        margin: 6px 0.5rem 0 0.5rem;\n      }\n    `;\n  }\n}\n\ncustomElements.define('rux-pop-up-menu', RuxPopUpMenu);\n"]},"metadata":{},"sourceType":"module"}