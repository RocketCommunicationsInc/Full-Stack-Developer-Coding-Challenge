{"ast":null,"code":"import { LOGOUT } from \"../actionTypes\";\nimport { AUTH_SUCCESS } from \"../actionTypes\";\nimport axios from \"axios\";\nexport const signup = userData => {\n  return dispatch => {\n    axios.post(\"http://localhost:3001/users\", {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        user: userData\n      })\n    }).then(res => res.json()).then(data => {\n      dispatch({\n        type: AUTH_SUCCESS,\n        payload: {\n          loggedIn: true,\n          currentUser: data.user\n        }\n      });\n    }).catch(error => {\n      throw error;\n    });\n  };\n};\nexport const login = userData => {\n  return dispatch => {\n    axios.post(\"http://localhost:3001/sessions\", {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify(userData)\n    }).then(resp => resp.json()).then(data => {\n      dispatch({\n        type: AUTH_SUCCESS,\n        payload: {\n          loggedIn: true,\n          currentUser: data.user\n        }\n      });\n    }).catch(error => {\n      throw error;\n    });\n  };\n};\nexport const checkLoggedIn = () => {\n  return dispatch => {\n    axios.get(`http://localhost:3001/logged_in`, {\n      credentials: \"include\"\n    }).then(res => {\n      console.log(res); // .then((data) => {\n      // dispatch({\n      // \ttype: AUTH_SUCCESS,\n      // \tpayload: {\n      // \t\tloggedIn: res.logged_in,\n      // \t\tcurrentUser: res.user,\n      // \t},\n      // });\n    }).catch(error => {\n      throw error;\n    });\n  };\n};\nexport const logout = () => {\n  return dispatch => {\n    dispatch({\n      type: LOGOUT,\n      payload: {\n        loggedIn: false,\n        currentUser: {}\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/mimirandi21/code/projects/Full-Stack-Developer-Coding-Challenge-1/rocketfront/src/redux/actions/UsersActions.js"],"names":["LOGOUT","AUTH_SUCCESS","axios","signup","userData","dispatch","post","headers","credentials","body","JSON","stringify","user","then","res","json","data","type","payload","loggedIn","currentUser","catch","error","login","resp","checkLoggedIn","get","console","log","logout"],"mappings":"AAAA,SAASA,MAAT,QAAuB,gBAAvB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,MAAM,GAAIC,QAAD,IAAc;AACnC,SAAQC,QAAD,IAAc;AACpBH,IAAAA,KAAK,CACHI,IADF,CACO,6BADP,EACsC;AACpCC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAD2B;AAIpCC,MAAAA,WAAW,EAAE,SAJuB;AAKpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,IAAI,EAAER;AAAR,OAAf;AAL8B,KADtC,EAQES,IARF,CAQQC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARhB,EASEF,IATF,CASQG,IAAD,IAAU;AACfX,MAAAA,QAAQ,CAAC;AACRY,QAAAA,IAAI,EAAEhB,YADE;AAERiB,QAAAA,OAAO,EAAE;AACRC,UAAAA,QAAQ,EAAE,IADF;AAERC,UAAAA,WAAW,EAAEJ,IAAI,CAACJ;AAFV;AAFD,OAAD,CAAR;AAOA,KAjBF,EAkBES,KAlBF,CAkBSC,KAAD,IAAW;AACjB,YAAMA,KAAN;AACA,KApBF;AAqBA,GAtBD;AAuBA,CAxBM;AA0BP,OAAO,MAAMC,KAAK,GAAInB,QAAD,IAAc;AAClC,SAAQC,QAAD,IAAc;AACpBH,IAAAA,KAAK,CACHI,IADF,CACO,gCADP,EACyC;AACvCC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAD8B;AAIvCC,MAAAA,WAAW,EAAE,SAJ0B;AAKvCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,QAAf;AALiC,KADzC,EAQES,IARF,CAQQW,IAAD,IAAUA,IAAI,CAACT,IAAL,EARjB,EASEF,IATF,CASQG,IAAD,IAAU;AACfX,MAAAA,QAAQ,CAAC;AACRY,QAAAA,IAAI,EAAEhB,YADE;AAERiB,QAAAA,OAAO,EAAE;AACRC,UAAAA,QAAQ,EAAE,IADF;AAERC,UAAAA,WAAW,EAAEJ,IAAI,CAACJ;AAFV;AAFD,OAAD,CAAR;AAOA,KAjBF,EAkBES,KAlBF,CAkBSC,KAAD,IAAW;AACjB,YAAMA,KAAN;AACA,KApBF;AAqBA,GAtBD;AAuBA,CAxBM;AA0BP,OAAO,MAAMG,aAAa,GAAG,MAAM;AAClC,SAAQpB,QAAD,IAAc;AACpBH,IAAAA,KAAK,CACHwB,GADF,CACO,iCADP,EACyC;AACvClB,MAAAA,WAAW,EAAE;AAD0B,KADzC,EAIEK,IAJF,CAIQC,GAAD,IAAS;AACda,MAAAA,OAAO,CAACC,GAAR,CAAYd,GAAZ,EADc,CAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAdF,EAeEO,KAfF,CAeSC,KAAD,IAAW;AACjB,YAAMA,KAAN;AACA,KAjBF;AAkBA,GAnBD;AAoBA,CArBM;AAuBP,OAAO,MAAMO,MAAM,GAAG,MAAM;AAC3B,SAAQxB,QAAD,IAAc;AACpBA,IAAAA,QAAQ,CAAC;AACRY,MAAAA,IAAI,EAAEjB,MADE;AAERkB,MAAAA,OAAO,EAAE;AACRC,QAAAA,QAAQ,EAAE,KADF;AAERC,QAAAA,WAAW,EAAE;AAFL;AAFD,KAAD,CAAR;AAOA,GARD;AASA,CAVM","sourcesContent":["import { LOGOUT } from \"../actionTypes\";\nimport { AUTH_SUCCESS } from \"../actionTypes\";\nimport axios from \"axios\";\n\nexport const signup = (userData) => {\n\treturn (dispatch) => {\n\t\taxios\n\t\t\t.post(\"http://localhost:3001/users\", {\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tbody: JSON.stringify({ user: userData }),\n\t\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t};\n};\n\nexport const login = (userData) => {\n\treturn (dispatch) => {\n\t\taxios\n\t\t\t.post(\"http://localhost:3001/sessions\", {\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tbody: JSON.stringify(userData),\n\t\t\t})\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: AUTH_SUCCESS,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\tcurrentUser: data.user,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t};\n};\n\nexport const checkLoggedIn = () => {\n\treturn (dispatch) => {\n\t\taxios\n\t\t\t.get(`http://localhost:3001/logged_in`, {\n\t\t\t\tcredentials: \"include\",\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\t// .then((data) => {\n\t\t\t\t// dispatch({\n\t\t\t\t// \ttype: AUTH_SUCCESS,\n\t\t\t\t// \tpayload: {\n\t\t\t\t// \t\tloggedIn: res.logged_in,\n\t\t\t\t// \t\tcurrentUser: res.user,\n\t\t\t\t// \t},\n\t\t\t\t// });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t};\n};\n\nexport const logout = () => {\n\treturn (dispatch) => {\n\t\tdispatch({\n\t\t\ttype: LOGOUT,\n\t\t\tpayload: {\n\t\t\t\tloggedIn: false,\n\t\t\t\tcurrentUser: {},\n\t\t\t},\n\t\t});\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}