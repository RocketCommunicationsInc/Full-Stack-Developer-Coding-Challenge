(this.webpackJsonpastro_ui=this.webpackJsonpastro_ui||[]).push([[0],{101:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(10),o=r.n(c),s=(r(75),r.p+"media/logo.6ce24c58.svg"),i=(r(51),r(16)),l=r(11),u=r.n(l),d=r(17),b=r(20),p=r(46),j=r.n(p),f={GET:function(){var e=Object(d.a)(u.a.mark((function e(t,r,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(t.url,r,{crossdomain:!0});case 3:c=e.sent,n(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),POST:function(){var e=Object(d.a)(u.a.mark((function e(t,r,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(t.url,r,{crossdomain:!0});case 3:c=e.sent,n(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),PUT:function(){var e=Object(d.a)(u.a.mark((function e(t,r,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},h=r(43),O=r.n(h),x=r(13),g=r(47),m=r(5);function v(e){var t={banner:{background:"#203246",color:"#ffffff",display:e.showCount?"flex":"block",fontSize:22,justifyContent:"space-between",padding:"5px",textAlign:"left"},"rux-table":{width:"100%",borderCollapse:"separate",borderSpacing:"0px",color:"#292A2D",borderStyle:"solid",borderWidth:"1px",borderColor:"#eaeef4",background:"#ffffff",textAlign:"left",overflow:"scroll"}},r=e.columns,n=e.data,a=Object(g.useTable)({columns:r,data:n},g.useSortBy),c=a.getTableProps,o=a.getTableBodyProps,s=a.headerGroups,i=a.rows,l=a.prepareRow;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:t.banner,children:[function(){var t="";return e.showCount&&(t=e.data.length+" Contacts"),t}()," ",Object(m.jsx)("div",{children:function(){var t=[];if(e.groups)for(var r=0,n=Object.keys(e.groups);r<n.length;r++){var a=n[r];t.push(Object(m.jsxs)("div",{children:[a.toUpperCase(),": ",e.groups[a]]}))}return t}()})]}),Object(m.jsxs)("table",Object(x.a)(Object(x.a)({},c()),{},{style:t["rux-table"],children:[Object(m.jsx)("thead",{children:s.map((function(e){return Object(m.jsx)("tr",Object(x.a)(Object(x.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(m.jsx)("th",Object(x.a)(Object(x.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:{color:"#a9b2bc",padding:"10px",border:"solid 1px gray",background:"#283f58"},children:e.render("Header")}))}))}))}))}),Object(m.jsx)("tbody",Object(x.a)(Object(x.a)({},o()),{},{children:i.map((function(e){return l(e),Object(m.jsx)("tr",Object(x.a)(Object(x.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(m.jsx)("td",Object(x.a)(Object(x.a)({},e.getCellProps()),{},{style:{color:"white",padding:"10px",border:"solid 1px gray",background:"#203246"},children:e.render("Cell")}))}))}))}))}))]}))]})}var y=r(144),w=r(4);r(100);var k={banner:{backgroundColor:"#172635",color:"white",display:"flex",justifyContent:"space-between",paddingLeft:"20px",paddingRight:"20px"},header:{backgrounColor:"#282c34",color:"white",float:"right"},user:{color:"#61dafb",display:"inline",float:"left",fontSize:11,paddingLeft:"10px"}},C=function(e){var t=Object(w.a)((function(e){return{root:{backgroundColor:"#172635",color:"white"}}}))(y.a);return Object(m.jsxs)("div",{className:"row",style:k.banner,children:[Object(m.jsx)("rux-global-status-bar",{class:"dark-theme",appname:"Astro UI",version:"0.1"}),e.children,!e.username&&Object(m.jsxs)("div",{className:"row",style:{backgroundColor:"#282c34",display:"inline-flex"},children:[Object(m.jsx)(t,{color:"primary",id:"register",onClick:function(t){return e.action(t)},children:"Register"}),Object(m.jsx)(t,{color:"primary",id:"login",onClick:function(t){return e.action(t)},children:"Login"})]})]})},T=r(146),S=r(142),A=r(140),I=r(141),P=r(139),R=r(143);function E(e){var t={input:{padding:"10px"}},r=Object(n.useState)({}),a=Object(b.a)(r,2),c=a[0],o=a[1],s=function(e){var t=Object(x.a)({},c);t[e.target.id]=e.target.value,o(t)};return e.modalInfo?Object(m.jsx)("div",{children:Object(m.jsxs)(T.a,{maxWidth:"lg",fullWidth:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(P.a,{id:"alert-dialog-title",children:e.modalInfo.header}),Object(m.jsx)(A.a,{children:Object(m.jsxs)(I.a,{id:"alert-dialog-description",children:[e.modalInfo.text,Object(m.jsx)("div",{style:{textAlign:"center"},children:e.responseText})]})}),function(){var r,n=[],a=Object(i.a)(e.modalInfo.inputs);try{for(a.s();!(r=a.n()).done;){var c=r.value;n.push(Object(m.jsx)(R.a,{id:c.id,label:c.label,variant:"outlined",style:t.input,value:n.id,onChange:s},c.id))}}catch(o){a.e(o)}finally{a.f()}return n}(),Object(m.jsx)(S.a,{children:Object(m.jsx)(y.a,{onClick:function(){return e.modalInfo.submitAction(c)},color:"primary",autoFocus:!0,children:e.modalInfo.submitText})})]})}):""}function L(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(),o=Object(b.a)(c,2),s=o[0],l=o[1],p=Object(n.useState)(),j=Object(b.a)(p,2),h=j[0],x=j[1],g=Object(n.useState)(null),y=Object(b.a)(g,2),w=y[0],k=y[1],T=Object(n.useState)(null),S=Object(b.a)(T,2),A=S[0],I=S[1],P=Object(n.useState)(null),R=Object(b.a)(P,2),L=R[0],N=R[1],G=Object(n.useState)(null),B=Object(b.a)(G,2),U=B[0],F=B[1],z=function(){a(!1),x("")},D=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){k(e),x("Login successful"),setTimeout((function(){return z()}),1e3)},n=function(e){console.error(e),x("Invalid username or password")},a={user:t.username,password:t.password},e.next=5,f.POST({url:O.a.LOGIN()},a,r,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){x("Registration successful"),k(e),setTimeout((function(){return z()}),1e3)},n=function(e){500===e.status?x("User already exists"):x(e.status)},e.next=4,f.POST({url:O.a.REGISTER()},{user:t.username,password:t.password},r,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=["contactName","contactStatus","contactBeginTimestamp","contactEndTimestamp"],t=["errorMessage","errorCategory","errorTime"],r=function(){var r=Object(d.a)(u.a.mark((function r(n){var a,c,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:"Basic "+btoa(unescape(encodeURIComponent(w.username+":"+w.password)))}},c=function(r){for(var a=[],c=0,o=Object.keys(r[0]);c<o.length;c++){var s=o[c];("alerts"===n.name&&t.includes(s)||"contacts"===n.name&&e.includes(s))&&a.push({Header:s,accessor:s})}if("alerts"===n.name)F({columns:a,data:r});else{var l,u={},d=Object(i.a)(r);try{for(d.s();!(l=d.n()).done;){var b=l.value;u[b.contactState]||(u[b.contactState]=0),u[b.contactState]++}}catch(p){d.e(p)}finally{d.f()}N(u),I({columns:a,data:r})}},o=function(e){console.error(e)},r.next=5,f.GET({url:O.a.DATA(n.name)},a,c,o);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();w&&(r({name:"alerts"}),r({name:"contacts"}))}),[w]),Object(m.jsxs)("div",{children:[Object(m.jsx)(C,{action:function(e){switch(e.currentTarget.id){case"register":l({header:"Register",submitText:"Submit",inputs:[{id:"username",label:"Username"},{id:"password",label:"Password"}],submitAction:H}),a(!0);break;case"login":l({text:"Enter your username and token",header:"Login",submitText:"Login",inputs:[{id:"username",label:"Username"},{id:"password",label:"Password"}],submitAction:D}),a(!0);break;default:a(!0)}},username:null===w||void 0===w?void 0:w.username}),Object(m.jsx)(E,{open:r,handleClose:z,modalInfo:s,responseText:h}),w&&U?Object(m.jsx)(v,{data:U.data,columns:U.columns}):null,Object(m.jsx)("div",{style:{backgroundColor:"#172635",height:"20px"}}),w&&A?Object(m.jsx)(v,{data:A.data,columns:A.columns,groups:L,showCount:!0}):null]})}var N=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(L,{}),Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("img",{src:s,className:"App-logo",alt:"logo"}),Object(m.jsxs)("p",{children:["Edit ",Object(m.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(m.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})]})},G=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,148)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),G()},43:function(e,t){var r="http://localhost:5000/";e.exports=Object.freeze({LOGIN:function(){return r+"login"},REGISTER:function(){return r+"register"},DATA:function(e){return r+"data/".concat(e)}})},51:function(e,t,r){},75:function(e,t,r){}},[[101,1,2]]]);
//# sourceMappingURL=main.0263dca1.chunk.js.map